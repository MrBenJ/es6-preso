<!doctype html>
<html>
	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

		<title>Practical ES6</title>

		<link rel="stylesheet" href="css/reveal.css">
		<link rel="stylesheet" href="css/theme/black.css">
		<link rel="stylesheet" href="css/custom.css">

		<!-- Theme used for syntax highlighting of code -->
		<link rel="stylesheet" href="lib/css/zenburn.css">

		<!-- Printing and PDF exports -->
		<script>
			var link = document.createElement( 'link' );
			link.rel = 'stylesheet';
			link.type = 'text/css';
			link.href = window.location.search.match( /print-pdf/gi ) ? 'css/print/pdf.css' : 'css/print/paper.css';
			document.getElementsByTagName( 'head' )[0].appendChild( link );
		</script>
	</head>
	<body>
		<div class="reveal">
			<div class="slides">
				<section>
					<h1>Practical ES6</h1>
					<p>An introduction to the future of Javascript</p>
					<p>by Ben Junya</p>
					<p><a href="http://mrbenj.github.io/es6-preso">http://mrbenj.github.io/es6-preso</a></p>
					<aside class="notes">
						Get a feel for percentage of beginners, intermediates, and HARDCORE PRO DUDES
					</aside>
				</section>
				<section>
					<p>About Me</p>
					<ul>
						<li>Android Developer at 72andSunny</li>
						<li>Enterprise web maintenence for Lexus.com (Team One Advertising)</li>
						<li>Site architect for teamone-usa.com</li>
						<li>Lead UI and Front end engineer and architect at Zeconomy Inc.</li>
						<li>Self taught Software and web developer</li>
						<li>Bachelor's of Music Education from Illinois Wesleyan University</li>
					</ul>
					<aside class="notes">
						Oddball, self taught
					</aside>
				</section>
				<section>
					<h1>WARNING!</h1>
					<img src="img/explicit.jpeg">
					<aside class="notes">
						Warn em you might swear because it's funny
						when used in the correct darn tootin' context
					</aside>
				</section>
				<section>
					<h1>The state of Javascript</h1>
					<div class="fragment">
						<img class="sanic" src="img/sanic.png">
						<p>GOTTA GO FAST</p>
					</div>
				</section>
				<section>
					<img src="img/angular.png">
					<aside class="notes">
						Angular 6 will already be out with 4 way data binding
					</aside>
				</section>
				<section data-transition="fade-out">
					<p>It's an incredible and exciting time to be a Javascript developer</p>
					<ul>
						<li class="fragment">Front end unit testing</li>
						<li class="fragment">Web components</li>
						<li class="fragment">Service workers</li>
						<li class="fragment">Websockets</li>
						<li class="fragment">JSX and TypeScript</li>
						<li class="fragment">Principles of Modularity</li>
						<li class="fragment">Functional Programming</li>
					</ul>
					<aside class="notes">
						All of this was totally unheard of until today. Go back in time 5-6 years and no one would have even thought of stuff like this.
						At the absolute core of all of this really awesome ecosystem and exciting time is Javascript
					</aside>
				</section>
				<section data-transition="slide-in fade-out">
					<h1>WHAT IS ES6?</h1>
					<p>The <span class="underline">new</span> version of Javascript</p>
					<ul>
						<li>ECMAScript Release 6 - "Harmony"<br>
							aka ES2015
						</li>
						<li>ECMAScript is the "proper" name for Javascript</li>
					</ul>
					<aside class="notes">
						WRONG SLIDE. Cut and go to "hot new" with intant rap airhorn
					</aside>
				</section>
				<section data-transition="none">
					<h1>WHAT IS ES6?</h1>
					<p>The HOT <span class="underline">new</span> version of Javascript</p>
					<ul>
						<li>ECMAScript Release 6 - "Harmony"<br>
							aka ES2015
						</li>
						<li>ECMAScript is the "proper" name for Javascript</li>
					</ul>
					<aside class="notes">
						http://www.instantrapairhorn.com on "hot new"
					</aside>
				</section>
				<section>
					<p>Web Developer&nbsp;&nbsp;=>&nbsp;&nbsp;Web Engineer</p>
					<ul>
						<li class="fragment">Creating folder structures</li>
						<li class="fragment">Implementing build systems like Gulp or Webpack</li>
						<li class="fragment">Turning web elements into web modules</li>
						<li class="fragment">Web applications are getting more complex</li>
						<li class="fragment">Stronger separation from designers to engineers</li>
					</ul>
					<p class="fragment">Know HTML, CSS, and Javascript?</p>
					<p class="fragment">IF YOU CAN THINK IT, YOU CAN BUILD IT</p>
					<p class="fragment">What do you have to wait for? <span class="fragment underline">Nothing</span></p>
					<aside class="notes">
						Interesting trend where designers are expected to know HTML and CSS and Sass/Less. Some
						front end guys are pretty much becoming strictly only Javascript engineers
					</aside>
				</section>
				<section>
					<p>2 ULTIMATE RULES TO LEARNING&trade;</p>
					<p class="fragment">Have fun</p>
					<p class="fragment">Enjoy the process</p>
					<aside class="notes">
						You are human. You are bound to make mistakes and poor decisions.
					</aside>
				</section>
				<section data-transition="none">
					<img class="dance-baby-dance" src="img/poor_decisions.jpg">
					<aside class="notes">
					I'm not super smart, I've made some poor decisions
					</aside>
				</section>

				<section data-transition="none">
					<h1>Why practical ES6?</h1>
					<p class="fragment">12 hour discussion for EVERYTHING</p>
					<p class="fragment">Focusing on things we can use now, instead of fighting the language later</p>
					<aside class="notes">
						What can you use now without hurting yourself too much? Presentation is geared towards
						developers who have some experience with ES5
					</aside>
				</section>
				<section data-transition="none">
					<pre><code class="jsx" data-trim data-noescape>
					import getJSON from 'scripts/modules/utils';

					function* dataGen(items) {
						items.forEach( (item) => {
							if(item.sub) {
								yield* getJSON(url + '?sub='+item.sub);
							} else {
								yield item;
							}
						});
					}
					async function getParsed(url, parseFunc) {
						let data = await getJSON(url);
						let subGenerator = dataGen(data);
						let parsed = [];
						while(!subGenerator.done) {
							parsed.push(parseFunc(subGenerator.next().value));
						}

						return parsed;
					}
					let fullyParsedData = getParsed('/inventory', (item) => {
						if(item.apr) {
							 item.apr = (item.apr * 100) + '%';
						}
					});

					</code></pre>
					<aside class="notes">
					It gets to the point where your asyncronous javascript starts to look synchronous
					it almost looks like an alien foreign language after some time.
					</aside>
				</section>
				<section>
					<img src="img/painful_table.png">
					<aside class="notes">
						Anyone Googling ES6 will find this crazy table. It's difficult to fully understand
						especially with stage-0 stage-1 stage-x stuff
					</aside>
				</section>
				<section data-transition="fade-out">
					<p>'let' is the new 'var'</p>
					<pre><code data-trim data-noescape>
						function printArrayContents(array) {

							for(var i = 0; i < array.length; i++) {
								console.log(array[i]);
							}

						}
					</code></pre>
				</section>
				<section data-transition="fade-in fade-out">
					<p>'let' is the new 'var'</p>
					<pre><code class="jsx" data-trim data-noescape>
						function printArrayContents(array) {
							// variable *i* is still visible out here!
							for(var i = 0; i < array.length; i++) {
								console.log(array[i]);
							}
							// console.log(i) => array.length
						}
					</code></pre>
				</section>
				<section data-transition="fade-in fade-out">
					<p>'let' is the new 'var'</p>
					<pre><code data-trim data-noescape>
						function printArrayContents(array) {
							// i => undefined
							for(let i = 0; i < array.length; i++) {
								console.log(array[i]);
							}
							// console.log(i) => undefined
						}
					</code></pre>
				</section>
				<section data-transition="fade-out fade-in">
					<p>'let' is the new 'var'</p>
					<pre><code data-trim data-noescape>
						function awardPoints(isWinner) {
							var points = 10;

							if(!isWinner) {
								var points = 5; // Same variable!
							}

							return points; // => 5
						}
					</code></pre>
				</section>
				<section data-transition="fade-out fade-in">
					<p>'let' is the new 'var'</p>
					<pre><code data-trim data-noescape>
						function awardPoints(isWinner) {
							let points = 10;

							if(!isWinner) {
								let points = 5; // different variable!
							}

							return points; // => 10
						}
					</code></pre>
				</section>
				<section>
					<p>Why is this important?</p>
					<ul>
						<li class="fragment">Function scope can be messy</li>
						<li class="fragment">Block scoping is stricter, but easier to visually identify</li>
					</ul>
					<p class="fragment underline">Stop using 'var' and start using 'let'</p>
				</section>
				<section>
					<p>Strict is good!</p>
					<pre><code data-trim data-noescape>
						function older() {
							var sity = 'football';
							var sity = 'baseball'; // This is OK
						}

						function newer() {
							let it = "gooooooo";
							let it = "NO! DON'T SING THE SONG!"; // SyntaxError
						}
					</code></pre>
					<aside class="notes">
						Many other languages already have block scoping. This allows code to be much more readable,
						especially in longer and complex functions
					</aside>
				</section>
				<section data-transition="fade-in fade-out">
					<p>'let' is a Corgi</p>
					<img class="dance-baby-dance" src="img/corgis.jpg">
					<aside class="notes">
						Just by looking at it, you have a pretty good idea of where it can or can't go
					</aside>
				</section>
				<section data-transition="fade-in slide-out">
					<p>'var' is a German Shephard</p>
					<img class="dance-baby-dance" src="img/german_shep.jpg">
					<aside class="notes">
						You don't know exactly where it can or can't go. It also might bite you
						in the ass if you don't keep an eye on it
					</aside>
				</section>
				<section data-transition="slide-in fade-out">
					<p>'const'</p>
					<pre><code data-trim data-noescape>
						const number = 8;
						number = 15; // TypeError: Assignment to constant
					</code></pre>
				</section>
				<section data-transition="slide-in fade-out">
					<p>'const' is block scoped like 'let'</p>
					<pre><code data-trim data-noescape>
						const API_KEY = '99aedd983ff987e09ss8aa0770e8dcc9987b9fa813';
						if(API_KEY) {
							const NODES = 8;
							// var hoists API_KEY to the global
							// scope and causes redeclaration error
							var API_KEY = '123987adddeff'
						}
						console.log(NODES); // undefined
					</code></pre>
				</section>
				<section data-transition="fade-in slide-out">
					<img class="dance-baby-dance" src="img/sad_shep.jpg">
					<aside class="notes">
					NO! BAD DOG VAR! STOP IT!
					</aside>
				</section>
				<section data-transition="fade-in fade-out">
					<p>Arrow Functions</p>
					<pre><code data-trim data-noescape>
						function GabeTheDog() {
							this.borks = 0;

							setInterval(function bork() {
								console.log('Bork!');
								// won't work! "this"
								// refers to global object
								// not GabeTheDog
								this.borks++;
							}, 1000);
						}
						var Gabe = new GabeTheDog();
						setTimeout(function() {
							console.log('Gabe has borked '+ Gabe.borks + ' times');
						}, 25000);
					</code></pre>
					<aside class="notes">
					Common Javascript problem. It sucks. touch on Function.prototype.bind()
					</aside>
				</section>
				<section data-transition="fade-in fade-out">
					<p>Arrow Functions</p>
					<pre><code data-trim data-noescape>
						function GabeTheDog() {
							var _this = this; // Fixing the problem
							_this.borks = 0;

							setInterval(function bork() {
								console.log('Bork!');
								_this.borks++;
							}, 1000);
						}
						var Gabe = new GabeTheDog();
						setTimeout(function() {
							console.log('Gabe has borked '+ Gabe.borks + ' times');
						}, 25000);
					</code></pre>
					<aside class="notes">
						Add _this to make it work in ES5
					</aside>
				</section>
				<section data-transition="slide-in slide-out">
					<p>Arrow Functions</p>
					<pre><code data-trim data-noescape>
						var $this = this;
						var _this = this;
						var that = this;
					</code></pre>
					<aside class="notes">
					Normal solution - add a var _this or _that or $this - 'this' is a pain in the ass!
					</aside>
				</section>
				<section data-transition="fade-in fade-out">
					<p>Arrow Functions</p>
					<pre><code data-trim data-noescape>
						function GabeTheDog() {
							this.borks = 0;

							setInterval(() => {
								console.log('Bork!');
								this.borks++;
							}, 1000);
						}
						let Gabe = new GabeTheDog();
						setTimeout(() => {
							console.log('Gabe has borked '+ Gabe.borks + ' times');
						}, 25000);
					</code></pre>
				</section>
				<section data-transition="slide-in fade-out">
					<p>Arrow Functions makes code shorter and cleaner</p>
					<pre><code class="jsx" data-trim data-noescape>
						var button = document.getElementById('submitButton');
						button.addEventListener('click', function(e) {
							e.preventDefault();
							postData('/server', {agree: true}).then(
								function(response) {
									console.log(response.msg);
								}
							);
						});
					</code></pre>
					<aside class="notes">
						Clean!
					</aside>
				</section>
				<section data-transition="fade-in slide-out">
					<p>Arrow Functions makes code shorter and cleaner</p>
					<pre><code class="jsx" data-trim data-noescape>
						let button = document.getElementById('submitButton');
						button.addEventListener('click', (e) => {
							e.preventDefault();
							postData('/server', {agree: true}).then(
								(response) => {
									console.log(response.msg);
								}
							);
						});
					</code></pre>
					<aside class="notes">
						Use them as often as possible!
					</aside>
				</section>
				<section data-transition="slide-in fade-out">
					<p>Even if you are an absolute monster and code like this:</p>
					<pre><code class="jsx" data-trim data-noescape>
						var button = document.getElementById('submitButton');
						button.addEventListener
						(
							'click',
							function(e)
							{
								e.preventDefault();
								postData('/server', {agree: true}).then
								(
									function(response)
									{
										console.log(response.msg);
									}
								);
							}
						);
					</code></pre>
					<aside class="notes">
						Clean!
					</aside>
				</section>
				<section data-transition="fade-in slide-out">
					<p>Even if you are an absolute monster and code like this:</p>
					<pre><code class="jsx" data-trim data-noescape>
						let button = document.getElementById('submitButton');
						button.addEventListener
						(
							'click',
							(e) =>
							{
								e.preventDefault();
								postData('/server', {agree: true}).then
								(
									(response) =>
									{
										console.log(response.msg);
									}
								);
							}
						);
					</code></pre>
					<aside class="notes">
						Use them as often as possible!
					</aside>
				</section>
				<section data-transition="fade-in fade-out">
					<p>Arrow Functions in Functional Programming</p>
					<pre><code class="jsx" data-trim data-noescape>
						const isLarge = (item) => { return item.size > 20; }

						let fries = new Fries(50);
						let message = isLarge(fries) ?
							'TOO MANY CARBS' : 'NOT ENOUGH CARBS';
						console.log(message); // TOO MANY CARBS
					</code></pre>
					<aside class="notes">
						Syntax can be shortened!
					</aside>
				</section>
				<section data-transition="fade-in">
					<p>Arrow Functions Syntax</p>
					<pre><code class="jsx" data-trim data-noescape>
						// Single items don't need parentheses
						const isLarge = (item) => { return item.size > 20; }
						const isLarge = item => { return item.size > 20; }

						// No curly braces required for implicit return
						const isLarge = item => item.size > 20;
					</code></pre>
				</section>
				<section data-transition="slide-in fade-out">
					<p>Default Parameters in functions</p>
					<pre><code class="jsx" data-trim data-noescape>
						function buildCycle(color, wheels) {
							var frameColor = color || 'silver';
							var totalWheels = wheels || 2;

							return new Vehicle(frameColor, totalWheels);
						}
					</code></pre>
				</section>
				<section data-transition="fade-in slide-out">
					<p>Default Parameters in functions</p>
					<pre><code class="jsx" data-trim data-noescape>
						function buildCycle(frameColor = 'silver', totalWheels = 2) {
							return new Vehicle(frameColor, totalWheels);
						}
					</code></pre>
					<aside class="notes">
						This is something other languages have had forever!
					</aside>
				</section>
				<section data-transition="slide-in fade-out">
					<p>Spread Operator</p>
					<pre><code class="jsx" data-trim data-noescape>
						var missingWords = ['raining', 'cats', 'and'];
						var theWeather = ['It', 'is', 'dogs'];

						// "It is raining cats and dogs"
						var sentence =
							theWeather.slice(0, 2).concat(missingWords);
						sentence = sentence.concat(theWeather.slice(2));
						console.log(sentence.join(' '));

					</code></pre>
					<aside class="notes">
						Arrays got a huge makeover! Start with spread! Also, this SUCKSSSS
					</aside>
				</section>
				<section data-transition="fade-in fade-out">
					<p>Spread Operator</p>
					<pre><code class="jsx" data-trim data-noescape>
						let missingWords = ['raining', 'cats', 'and'];
						let theWeather = ['It', 'is', ...missingWords, 'dogs'];

						// "It is raining cats and dogs"

						console.log(theWeather.join(' '));

					</code></pre>
					<aside class="notes">
						Works on any iterable
					</aside>
				</section>
				<section data-transition="fade-in fade-out">
					<p>Spread Operator</p>
					<pre><code class="jsx" data-trim data-noescape>
						var items = document.getElementsByClassName('item');
						items.forEach(function(element) {
							//Error: forEach is not a function
						})
						function addOneToEverything() {
							arguments.forEach(function(item, index) {
								//Error: forEach is not a function
							});
						}
					</code></pre>
					<aside class="notes">
						items is actually an HTMLCollection... arguments is an 'array-like object'
					</aside>
				</section>
				<section data-transition="fade-in fade-out">
					<p>Spread Operator/Syntax</p>
					<pre><code class="jsx" data-trim data-noescape>
						var items = document.getElementsByClassName('item');
						console.log(items[3]); // some HTML element
						function addOneToEverything() {
							console.log(arguments[0]); // first arg
							console.log(arguments[1]); // second arg
						}
					</code></pre>
					<p class="fragment">WTF JAVASCRIPT?</p>
					<aside class="notes">
						WTF JAVASCRIPT? SRSLY U SUK
					</aside>
				</section>
				<section data-transition="fade-in fade-out">
					<p>Spread Operator/Syntax</p>
					<pre><code class="jsx" data-trim data-noescape>
						let items = [...document.getElementsByClassName('item')];
						items.forEach((element) => {
							//yay it works!
							if(!element.dataset.important) {
								element.remove();
							}
						});
						function addOneToEverything() {
							let args = [...arguments];
							args.forEach((item) => {
								item++;
							});
							return args;
						}
					</code></pre>
					<p class="fragment">Ahhh, so much nicer...</p>
				</section>
				<section data-transition="fade-in slide-out">
					<p>Array.from()</p>
					<pre><code class="jsx" data-trim data-noescape>
						let items =
							Array.from(document.getElementsByClassName('item'));
						items.forEach((element) => {
							//yay it works!
							if(!element.dataset.important) {
								element.remove();
							}
						});
						function addOneToEverything() {
							let args = Array.from(arguments);
							args.forEach((item) => {
								item++;
							});
							return args;
						}
					</code></pre>
					<p>OH SNAP EVEN NICER!</p>
				</section>
				<section data-transition="slide-in fade-out">
					<p>Array.includes()</p>
					<pre><code class="jsx" data-trim data-noescape>
					var hip_hip_array = ['hip', 'hip'];
					var hop = 'hop';
					if(hip_hip_array.indexOf(hop) === -1) {
						console.log('Not a hip hop array');
					} else {
						console.log('This is a hip hop array!');
					}
					</code></pre>
				</section>
				<section data-transition="fade-in slide-out">
					<p>Array.includes()</p>
					<pre><code class="jsx" data-trim data-noescape>
					let hip_hip_array = ['hip', 'hip'];
					let hop = 'hop';
					if(hip_hip_array.includes(hop)) {
						console.log('Not a hip hop array');
					} else {
						console.log('This is a hip hop array!');
					}
					</code></pre>
				</section>
				<section data-transition="slide-in fade-out">
					<p>Importing Modules</p>
					<pre><code class="jsx" data-trim data-noescape>
						var fs = require('fs');
						var GraphicsMagick = require('gm');
						var Moment = require('moment');
					</code></pre>
				</section>
				<section data-transition="fade-in fade-out">
					<p>Importing Modules</p>
					<pre><code class="jsx" data-trim data-noescape>
						import fs from 'fs';
						import gm as GraphicsMagick from 'gm';
						import Moment from 'moment';
					</code></pre>
				</section>
				<section data-transition="fade-in fade-out">
					<p>Exporting Modules</p>
					<pre><code class="jsx" data-trim data-noescape>
						function addNumbers() {
							var total = 0;
							for(var i = 0; i < arguments.length; i++) {
								total += arguments[i];
							}
							return total;
						}
						module.exports = {
							addNumbers: addNumbers
						};
						//Meanwhile, in another file...
						var addNumbers = require('./addNumbers').addNumbers;
						addNumbers(12,15,20);
					</code></pre>
				</section>
				<section data-transition="fade-in fade-out">
					<p>Exporting Modules</p>
					<pre><code class="jsx" data-trim data-noescape>
						function addNumbers() {
							let total = 0;
							Array.from(arguments).forEach( (num) => {
								total += num;
							});
							return total;
						}
						export default addNumbers;

						//Meanwhile, in another file...
						import addNumbers from './addNumbers';
						console.log(addNumbers(12,15,20));
					</code></pre>
					<aside class="notes">
						Next slide shows that name doesn't matter in 'export default'
					</aside>
				</section>
				<section data-transition="fade-in fade-out">
					<p>Exporting Modules</p>
					<pre><code class="jsx" data-trim data-noescape>
						function addNumbers() {
							let total = 0;
							Array.from(arguments).forEach( (num) => {
								total += num;
							});
							return total;
						}
						export default addNumbers;

						//Meanwhile, in another file...
						import StupidMathFunction from './addNumbers';
						console.log(StupidMathFunction(12,15,20));
					</code></pre>
				</section>
				<section data-transition="fade-in fade-out">
					<p>Exporting Modules</p>
					<pre><code class="jsx" data-trim data-noescape>
						export function addNumbers() {
							let total = 0;
							Array.from(arguments).forEach( (num) => {
								total += num;
							});
							return total;
						}
						export function YellAtTimeWarnerCable(message) {
							console.log('HEY TIME WARNER: '+message);
						};

						//Meanwhile, in another file...
						import  { YellAtTimeWarnerCable } from './modules';
						YellAtTimeWarnerCable('GIMMIE BETTER INTERNET!');
					</code></pre>
					<aside class="notes">
						Mention tree shaking here!
					</aside>
				</section>
				<section data-transition="fade-in fade-out">
					<p>Exporting Modules</p>
					<pre><code class="jsx" data-trim data-noescape>
						export function addNumbers() {
							let total = 0;
							Array.from(arguments).forEach( (num) => {
								total += num;
							});
							return total;
						}
						export function YellAtTimeWarnerCable(message) {
							console.log('HEY TIME WARNER: '+message);
						};

						//Meanwhile, in another file...
						import * as Modules from './modules';
						Modules.YellAtTimeWarnerCable('GIMMIE BETTER INTERNET!');
						Modules.addNumbers(1,2,3);
					</code></pre>
				</section>
				<section data-transition="fade-in fade-out">
					<p>Real World Modularity Example</p>
					<pre><code class="jsx" data-trim data-noescape>
						import React from 'react';
						import ReactDOM from 'react-dom';
						import InputMaskComponent from 'react-input-mask';

						let container = document.getElementById('wrap');

						ReactDOM.render(
							&lt;InputMaskComponent
								mask='(###)-###-####'
								onChange={(evt) => { console.log(evt.target.value); }}
								/&gt;,
							container
						);
					</code></pre>
				</section>
				<section data-transition="fade-in fade-out">
					<p>Real World Modularity Example</p>
					<pre><code class="jsx" data-trim data-noescape>
						import React from 'react';
						import ReactDOM from 'react-dom';
						import InputMaskComponent from 'react-input-mask';

						let container = document.getElementById('wrap');
						let props = {
							mask: '(###)-###-####',
							onChange: (evt) => { console.log(evt.target.value); }
						};
						ReactDOM.render(
							&lt;InputMaskComponent
								...props
								/&gt;,
							container
						);
					</code></pre>
				</section>
				<section data-transition="slide-in fade-out">
					<p>Callbacks and Promises</p>
					<pre><code class="jsx" data-trim data-noescape>
					function doSomething(callback) {
						// Do something here
						callback();
					}
					</code></pre>
					<aside class="notes">
						Looks simple, right?
					</aside>
				</section>
				<section data-transition="fade-in fade-out">
					<p>Callbacks and Promises</p>
					<pre><code class="jsx" data-trim data-noescape>
					var fs = require('fs');
					var GraphicsMagick = require('gm');
					fs.readdir(source, function(err, files) {
						if(err) {
							console.log('ERROR:' + err);
						} else {
							files.forEach(function(file, idx) {
								GraphicsMagick(source + file).size(function(err, val) {
									if(err) {
										console.log('ERROR: ' + err);
									} else {
										var aspect = val.width / val.height;
										console.log('aspect of '+file+' is '+aspect);
									}
								});
							});
						}
					});
					</code></pre>
					<aside class="notes">
						NodeJS is NOTORIOUS for having crazy callbacks like this. All we are trying to do
						is friggin' get the aspect ratio of each file in a directory of images
					</aside>
				</section>
				<section data-transition="fade-in fade-out">
					<p>Callbacks and Promises</p>
					<pre><code class="jsx" data-trim data-noescape>
					import fs from 'fs';
					import gm as GraphicsMagick from 'gm';

					function getRatios(source) {
						new Promise( (resolve, reject) => {
							fs.readdir(source, (err, files) => {
								if(err) {
									reject(err);
								} else {
									resolve(files);
								}
							})
						}).then(
							(files) => {
								let aspects = [];
								files.forEach( (file) => {
									GraphicsMagick(source, file).size( (err, val) => {
										if(err) {
											throw err;
										} else {
											let aspect = val.width / val.height;
											aspects.push(aspect);
										}
									})
								});
								return aspects;
							}
						).catch( (err) => { console.log('ERROR: ' + err) });
					}
					</code></pre>
					<aside class="notes">
					This doesn't look any better! Promises have actually been highly debated.
					Does it actually do anything better? Maybe it does, maybe it doesn't.
					</aside>
				</section>
				<section data-transition="fade-in fade-out">
					<p>Practical Promise Use</p>
					<pre><code class="jsx" data-trim data-noescape>
					export function getJSON(url) {
						return new Promise( (resolve, reject) => {
							let xhr = new XMLHttpRequest();
							xhr.open('GET', url);
							xhr.setRequestHeader('Accept',
								'application/json, text/tavascript, */*; q=0.01');
							xhr.setRequestHeader('X-Requested-With', 'XMLHttpRequest');

							xhr.onreadystatechange = () => {
								if(xhr.readyState < 4) {
									return;
								}

								if(xhr.status !== 200) {
									reject(xhr.response);
								}
								if(xhr.readyState === 4) {
									resolve(JSON.parse(xhr.response));
								}
							}
							xhr.send();
						});
					</code></pre>
				</section>
				<section data-transition="fade-in fade-out">
					<p>Practical Promise Use</p>
					<pre><code class="jsx" data-trim data-noescape>
					import {getJSON} from 'scripts/modules/utils';

					getJSON('/api/data').then(
						(resp) => {
							resp.forEach( (invoice) => {
								//Do something with each invoice
							});
						}
					).catch( (error) => { console.error(error); });

					</code></pre>
				</section>
				<section data-transition="fade-in fade-out">
					<p>Promise Basic Syntax</p>
					<pre><code class="jsx" data-trim data-noescape>
					function doSomeStuff(condition) {
						return new Promise( (resolve, reject) => {
							if(condition) {
								resolve('Yay! I worked!');
							} else {
								reject('DO YOU EVEN LIFT?');
							}
						});
					}
					doSomeStuff.then(
						(success) => {
							//Condition for success!
							console.log(success); // Yay! I worked!
						},
						(failure) => {
							//Condition for failure
							console.log(failure); // DO YOU EVEN LIFT?
						}
					);
					</code></pre>
				</section>
				<section data-transition="slide-in fade-out">
					<p>Template Strings</p>
					<pre><code class="jsx" data-noescape data-trim>
					var first_name = 'Billy';
					var last_name = 'Mays'
					var greeting = 'Hello ' + first_name + ' of the \n'
						+ last_name + ' clan';
					/*
						Hello Billy of the
						Mays clan

					*/
					</code></pre>
				</section>
				<section data-transition="fade-in fade-out">
					<p>Template Strings</p>
					<pre><code class="jsx" data-noescape data-trim>
					let first_name = 'Billy';
					let last_name = 'Mays'
					let greeting = `Hello ${first_name} of the
						${last_name} clan`;
					/*
						Hello Billy of the
						Mays clan

					*/
					</code></pre>
					<aside class="notes">
					Template strings preserve newlines and spaces
					</aside>
				</section>
				<section data-transition="fade-in fade-out">
					<p>Template Strings</p>
					<pre><code class="jsx" data-noescape data-trim>
					import {toCurrency} from 'scripts/modules/utils';
					let money = 345.65;
					let status = `You have ${toCurrency(money)} in your account`;
					/*
						You have $345.65 in your account
					*/
					</code></pre>
					<aside class="notes">
					Template strings preserve newlines and spaces
					</aside>
				</section>
				<section data-transition="slide-in fade-out">
					<p>Generators</p>
					<pre><code class="jsx" data-noescape data-trim>
					function* itemIterator(array) {
						array.forEach((item) => {
							yield item;
						});
					}

					let cars = [...data]; //Assume data is a bunch of objects
					let itemGenerator = itemIterator(cars);

					console.log(itemGenerator.next().value)) // first object
					console.log(itemGenerator.next().value)) // second object
					console.log(itemGenerator.next().value)) // third object
					// ...

					</code></pre>
					<aside class="notes">
					Denoted with function* - returns a Generator object
					</aside>
				</section>
				<section data-transition="fade-in fade-out">
					<p>Generators</p>
					<pre><code class="jsx" data-noescape data-trim>
					function* itemIterator(array) {
						array.forEach((item) => {
							yield item;
						});
					}

					let cars = [...data]; //Assume data is a bunch of objects
					let itemGenerator = itemIterator(cars);

					itemGenerator.next();
					// => {value: [Object object], done: false}

					</code></pre>
					<aside class="notes">

					</aside>
				</section>
				<section data-transition="fade-in fade-out">
					<p>Generators</p>
					<pre><code class="jsx" data-noescape data-trim>
					import { showModal, toCurrency, postData } from 'scripts/modules/utils';

					function* itemIterator(array) {
					  array.forEach((item) => {
						yield item;
					  });
					}

					let cars = [...data]; //Assume data is a bunch of objects
					let itemGenerator = itemIterator(cars);

					let iter = itemGenerator.next();
					let goodCars = [];
					let badCars = [];
					// While the generator is still not done...
					while(!iter.done) {
					  let car = iter.value; // Get car from generated object

					  let body = `Car was made in ${car.year} and has generated
						  ${toCurrency(car.revenue)}. Should this vehicle
						  be retired?`;
					  showModal({
						title: 'Is this car OK?',
						body: body
					  }).then(
						(decision) => {
						  if(decision === 'yes') {
							goodCars.push(car.id);
						  } else {
							badCars.push(car.id);
						  }
						}
					  );
					  iter = itemGenerator.next();
					}
					postData('/api/cars/approval', { approve: goodCars, reject: badCars});

					</code></pre>
					<aside class="notes">
					Step through line by line. NOTE: Generators are a difficult and
					advanced concept. It will take more than a short presentation to fully
					understand what's happening and how this all works.
					</aside>
				</section>
				<section data-transition="slide-in fade-out">
					<p>Class Syntax</p>
					<pre><code class="jsx" data-trim data-noescape>
					var Animal = function(name, legs, color) {
						this.name = name;
						this.legs = legs;
						this.color = color;
					}
					Animal.prototype.sayName = function() {
						console.log(name.toUpperCase() + '!');
					}
					</code></pre>
				</section>
				<section data-transition="fade-in fade-out">
					<p>Class Syntax</p>
					<pre><code class="jsx" data-trim data-noescape>
					class Animal {
						constructor(name, legs, color) {
							this.name = name;
							this.legs = legs;
							this.color = color;
						}

						sayName() {
							console.log(name.toUpperCase() + '!');
						}
					}
					</code></pre>
				</section>
				<section data-transition="fade-in fade-out">
					<p>Class Syntax</p>
					<pre><code class="jsx" data-trim data-noescape>
					class Dog extends Animal {
						constructor(name, color) {
							super(name, 4, color);
						}
						Bark() {
							console.log('Bark!');
						}
					}

					let Frank = new Dog('Frank', 'Brown');
					Frank.Bark(); // => Bark!
					Frank.sayName(); // => FRANK!
					</code></pre>
				</section>
				<section data-transition="fade-in fade-out">
					<p>ReactJS Uses Class Syntax</p>
					<pre><code class="jsx" data-trim data-noescape>
					import React from 'react';

					class NameTag extends React.Component {
						constructor(props) {
							super(props);
						}

						render() {
							return &lt;p&gt;{this.props.name}&lt;/p&gt;;
						}

					}
					export default NameTag;

					// In another file...
					import React from 'react';
					import ReactDOM from 'react-dom';
					import NameTag from './nameTag';

					ReactDOM.render(
						&lt;NameTag
							name="Bobby Tables"
						/&gt;
					);
					</code></pre>
				</section>
				<section>
					<p>About that Class Syntax...</p>
					<ul>
						<li class="fragment">It's syntactic sugar for prototype!</li>
						<li class="fragment">Current Trend: Functional Programming - not Object Oriented!</li>
					</ul>
					<p class="fragment underline">"Syntactic sugar causes cancer of the semicolon."</p>
					<p class="fragment"> - A dead guy that wrote book on computer science in 1975</p>
					<aside class="notes">
					The guy's real name is Alan J. Perlis, and yes, he actually did write a book on CS in 1975 titled "Introduction to computer science"
					</aside>
				</section>
				<!--<section>
					<p>Holy Amazeballs Ben! How do I use all these great new features!?</p>
					<p class="fragment">Unfortunately, this is one of the most difficult parts</p>
					<p class="fragment">This is the most important part of the entire presentation... Please pay attention!</p>
					<aside class="notes">
						Press 'x' before going to the next slide to pwn the entire audience
					</aside>
				</section>
				<section>
					<iframe id="video" class="stretch" width="100%" height="100%" src="https://www.youtube.com/embed/dQw4w9WgXcQ?" frameborder="0" allowfullscreen></iframe>
				</section> -->
				<section>
					<img class="sanic" src="img/babel.png">
					<p class="fragment">Transpiles your ES6 code into ES5</p>
					<p class="fragment">Huge community support</p>
					<p class="fragment">Excellent documentation</p>
					<p class="fragment">Works with virtually any setup</p>
				</section>
				<section>
					<p>Setting up Babel</p>
					<p>It's best to start with the command line</p>
					<pre class="fragment"><code class="bash" data-noescape data-trim>
					# Creates a basic package.json file in your current directory
					$ npm init -y

					# installs the babel-cli tools
					$ npm install babel-cli --save-dev
					</code></pre>
				</section>
				<section>
					<p>Edit your package.json file with an npm script</p>
					<pre><code class="jsx" data-noescape data-trim>
					{
						"name": "my-project",
						"version": "1.0.0",
						"scripts": {
							"build": "babel src -d lib"
						},
						"devDependencies": {
							"babel-cli": "^6.0.0"
						}
					}
					</code></pre>
					<p class="fragment">Take all the .js files in 'src' folder, transpile them, and put them into 'lib' folder</p>
					<pre class="fragment"><code class="bash" data-noescape data-trim>
					$ npm run build
					</code></pre>
				</section>
				<section>
					<p>Install a babel preset</p>
					<pre><code class="bash" data-noescape data-trim>
					# Creates a basic package.json file in your current directory
					$ npm install babel-preset-env --save-dev
					</code></pre>
					<div class="fragment">
						<p>Tell Babel to use the env preset in a .babelrc file</p>
						<pre><code class="bash" data-noescape data-trim>
						#creates an empty .babelrc file
						$ touch .babelrc
						</code></pre>
					</div>
					<div class="fragment">
						<p>Edit your .babelrc file to look like this</p>
						<pre><code class="jsx" data-noescape data-trim>
						{
							"preset": ["env"]
						}
						</code></pre>
					</div>
				</section>
				<section data-transition="fade-out">
					<p>Write some code!</p>
					<p>ES6 code</p>
					<pre><code class="jsx" data-noescape data-trim>
					class Person {
						constructor(name, age) {
							this.name = name;
							this.age = age;
						}

						greet() {
							console.log('Hello!');
						}
					}
					document.addEventListener('DOMContentLoaded', () => {
						const isOld = person => person.age > 90;
						let Dude = new Person('Allen', 95);
						let message = '';
						if(isOld(Dude)) {
							message = `${Dude.name} is old!`;
						} else {
							message = `${Dude.name} is young and hip`;
						}

						console.log(message);
					});
					</code></pre>
				</section>
				<section data-transition="fade-in slide-out">
					<p>Watch it transpile!</p>
						<p>ES5 code</p>
						<pre><code class="jsx" data-noescape data-trim>
						'use strict';
						var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

						function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

						var Person = function () {
							function Person(name, age) {
								_classCallCheck(this, Person);

								this.name = name;
								this.age = age;
							}

							_createClass(Person, [{
								key: 'greet',
								value: function greet() {
									console.log('Hello!');
								}
							}]);

							return Person;
						}();

						document.addEventListener('DOMContentLoaded', function () {
							var isOld = function isOld(person) {
								return person.age > 90;
							};
							var Dude = new Person('Allen', 95);
							var message = '';
							if (isOld(Dude)) {
								message = Dude.name + ' is old!';
							} else {
								message = Dude.name + ' is young and hip';
							}

							console.log(message);
						});
					</code></pre>
				</section>
				<section>
					<p>What'd I miss?</p>
					<ul>
						<li class="fragment">async/await</li>
						<li class="fragment">More Array methods</li>
						<li class="fragment">Map, Set, WeakMap, WeakSet</li>
					</ul>
					<p class="fragment">There's so much more!</p>
				</section>
				<section>
					<img class="rock-the-boat" src="img/poor_decisions2.jpg">
					<aside class="notes">
						Maybe it was a bad decision for me to leave out these things, but there's
						a thousand new features, and only a few hours of time to get through it all
					</aside>
				</section>
				<section>
					<p>Thank you JavascriptLA!</p>
					<img class="smaller" src="img/ben_hike.jpg">
					<p>Github: <a href="http://www.github.com/mrbenj">@MrBenJ</a><br>
						Email: <a href="mailto:bjunya@gmail.com">bjunya@gmail.com</a><br>
						Private and group programming classes available. Contact for more info
					</p>
				</section>
			</div>
		</div>
		<script src="lib/js/head.min.js"></script>
		<script src="js/reveal.js"></script>

		<script>
			// More info https://github.com/hakimel/reveal.js#configuration
			Reveal.initialize({
				history: true,

				// More info https://github.com/hakimel/reveal.js#dependencies
				dependencies: [
					{ src: 'plugin/markdown/marked.js' },
					{ src: 'plugin/markdown/markdown.js' },
					{ src: 'plugin/notes/notes.js', async: true },
					{ src: 'plugin/highlight/highlight.js', async: true, callback: function() { hljs.initHighlightingOnLoad(); } }
				]
			});
			document.addEventListener('keyup', function(evt) {
				console.log(evt.keyCode);
				if(evt.keyCode === 88) {
				//	document.getElementById('video').src = 'https://www.youtube.com/embed/dQw4w9WgXcQ?start=43&autoplay=true';
				}
			});
		</script>
	</body>
</html>
